<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Recicla Interativo</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

  <!-- QR -->
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>

  <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="app">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="brand">
      <div class="logo">♻</div>
      <div class="title">Recicla<span>Interativo</span></div>
    </div>

    <nav class="nav">
      <button data-page="dashboard" class="nav-btn active"><i class="fa-solid fa-house"></i> Dashboard</button>
      <button data-page="classify" class="nav-btn"><i class="fa-solid fa-camera"></i> Classificar</button>
      <button data-page="quiz" class="nav-btn"><i class="fa-solid fa-question"></i> Quiz</button>
      <button data-page="map" class="nav-btn"><i class="fa-solid fa-map"></i> Pontos</button>
      <button data-page="ranking" class="nav-btn"><i class="fa-solid fa-ranking-star"></i> Ranking</button>
      <button data-page="support" class="nav-btn"><i class="fa-solid fa-headset"></i> Suporte</button>
      <button data-page="profile" class="nav-btn"><i class="fa-solid fa-user"></i> Perfil</button>
    </nav>

    <div class="sidebar-footer">
      <button id="resetAll" class="ghost">Resetar</button>
    </div>
  </aside>
  <!-- MAIN -->
  <main class="main">

    <!-- HEADER -->
    <header class="main-header">
      <div>
        <h2 id="pageTitle">Dashboard</h2>
        <p class="muted">Bem-vindo(a)!</p>
      </div>

      <div class="header-actions">
        <div class="points">Pontos: <span id="topPoints">0</span></div>
        <div id="userName" class="user">Visitante</div>
      </div>
    </header>

    <!-- PAGES WRAPPER -->
    <section class="pages">

      <!-- DASHBOARD -->
      <section id="dashboard" class="page active-page">

        <div class="grid-3">

          <!-- Card 1 -->
          <div class="card glass">
            <h3>Classificador Rápido</h3>

            <select id="quickSelect">
              <option value="">Selecione...</option>
              <option value="Papel">Papel</option>
              <option value="Plástico">Plástico</option>
              <option value="Vidro">Vidro</option>
              <option value="Metal">Metal</option>
              <option value="Orgânico">Orgânico</option>
            </select>

            <button id="quickClassify" class="btn mt">Classificar</button>
            <div id="quickResult" class="result">Resultado: —</div>
          </div>

          <!-- Card 2 - Mini Quiz -->
          <div class="card glass">
            <h3>Mini-Quiz</h3>
            <div id="miniQuestion" class="mini-q">Carregando...</div>
            <div id="miniOptions" class="mini-options"></div>
          </div>

          <!-- Card 3 - QR -->
          <div class="card glass">
            <h3>QR do Usuário</h3>
            <div id="qrPreview" class="qr-box">—</div>
          </div>

        </div>

        <div class="grid-2 mt">
          <div class="card glass">
            <h3>Top 5</h3>
            <ol id="leaderTop" class="ranking-list"></ol>
          </div>

          <div class="card glass">
            <h3>Pontos por Escola</h3>
            <div id="schoolStats">Nenhum dado ainda.</div>
          </div>
        </div>

      </section>
<!-- CLASSIFICADOR COMPLETO -->
      <section id="classify" class="page">
        <div class="card glass wide">
          <h3>Classificador Completo</h3>

          <div class="cols">

            <!-- Coluna esquerda -->
            <div class="col">
              <label class="upload-box">
                <input id="fileInputFull" type="file" accept="image/*">
                <span class="muted">Selecionar ou arrastar imagem</span>
                <img id="previewImage" class="preview hidden">
              </label>

              <div class="manual-buttons mt">
                <button class="pill" data-type="Papel">Papel</button>
                <button class="pill" data-type="Plástico">Plástico</button>
                <button class="pill" data-type="Vidro">Vidro</button>
                <button class="pill" data-type="Metal">Metal</button>
                <button class="pill" data-type="Orgânico">Orgânico</button>
              </div>
            </div>

            <!-- Coluna direita -->
            <div class="col">
              <div id="classifyResult" class="result large">Selecione um item ou foto.</div>
              <div id="classifyTips" class="tips"></div>

              <div class="actions mt">
                <button id="saveAction" class="btn soft">Registrar ação (+ pontos)</button>
                <button id="genQRUser" class="btn outline">Gerar QR Usuário</button>
              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- QUIZ COMPLETO -->
      <section id="quiz" class="page">
        <div class="card glass wide">
          <h3>Quiz Educativo — 10 Perguntas por Rodada</h3>

          <div id="quizContainer">
            <div id="quizQuestion" class="quiz-question">Carregando...</div>
            <div id="quizAnswers" class="quiz-answers"></div>

            <p class="muted mt small">
              Pergunta <span id="quizIndex">1</span> / <span id="quizTotal">10</span>
            </p>
          </div>
        </div>
      </section>

      <!-- MAPA -->
      <section id="map" class="page">
        <div class="card glass wide">
          <h3>Pontos de Coleta — Bertolínia, PI</h3>

          <div class="map-controls">
            <input id="mapSearch" placeholder="Buscar endereço">
            <button id="mapSearchBtn" class="btn">Buscar</button>
            <button id="mapMyLoc" class="btn outline">Minha localização</button>
            <button id="showSchoolsBtn" class="btn soft">Escolas</button>
          </div>

          <div id="mapCanvas" class="map-canvas"></div>
          <div class="muted small mt">Clique no mapa para adicionar pontos.</div>

          <div id="nearbyList" class="mt"></div>
        </div>
      </section>
      <!-- RANKING -->
      <section id="ranking" class="page">
        <div class="card glass wide">
          <h3>Ranking Geral</h3>

          <ol id="rankingList" class="ranking-list mt"></ol>
        </div>
      </section>

      <!-- SUPORTE -->
      <section id="support" class="page">
        <div class="card glass wide">
          <h3>Suporte</h3>

          <div class="support-grid mt">

            <!-- Enviar mensagem -->
            <div>
              <label>Nome</label>
              <input id="supportName">

              <label>Email</label>
              <input id="supportEmail">

              <label>Assunto</label>
              <input id="supportSubject">

              <label>Mensagem</label>
              <textarea id="supportMsg" rows="5"></textarea>

              <div class="mt">
                <button id="btnSendSupport" class="btn">Enviar</button>
                <button id="btnClearSupport" class="btn outline">Limpar</button>
              </div>
            </div>

            <!-- Lista -->
            <div>
              <h4>Mensagens Recebidas</h4>
              <div id="supportList" class="muted small">Nenhuma mensagem enviada.</div>
            </div>

          </div>
        </div>
      </section>

      <!-- PERFIL -->
      <section id="profile" class="page">
        <div class="card glass wide profile-card">
          <h3>Perfil & Configurações</h3>

          <div class="profile-grid">

            <!-- Coluna esquerda -->
            <div>
              <label>Nome</label>
              <input id="inputName">

              <label>Escola</label>
              <input id="inputSchool">

              <label>Turma</label>
              <input id="inputClass">

              <label>Foto de Perfil</label>
              <input id="inputAvatarFile" type="file" accept="image/*">
              <img id="avatarImg" class="avatar-img">

              <div class="mt">
                <button id="saveProfile" class="btn">Salvar</button>
              </div>
            </div>

            <!-- Coluna direita -->
            <div>

              <div class="card mini glass">
                <div class="avatar" id="avatarPreview">A</div>
                <div>
                  <div id="profileNameLarge">Visitante</div>
                  <div class="muted small">Pontos: <span id="profilePoints">0</span></div>
                </div>
              </div>

              <div class="card mini glass mt">
                <h4>Exportar / Importar Dados</h4>
                <button id="btnExport" class="btn">Exportar</button>
                <input id="importFile" type="file" accept=".json" class="hidden">
                <button id="btnImport" class="btn outline">Importar</button>
                <button id="resetAll" class="ghost mt">Resetar tudo</button>
              </div>

            </div>

          </div>
        </div>
      </section>

    </section> <!-- end pages -->

  </main>
</div>

<!-- MODAL QR -->
<div id="qrModal" class="modal hidden">
  <div class="modal-card">
    <h3>QR Code</h3>
    <div id="qrCanvas"></div>
    <div class="mt">
      <button id="downloadQR" class="btn">Baixar PNG</button>
      <button id="closeQR" class="btn outline">Fechar</button>
    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>


